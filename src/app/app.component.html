<h1>
  Salsa Beat Machine 5
</h1>

<div *ngIf="machine">
  <button md-button (click)="togglePlay()">
    <md-icon *ngIf="!engine.playing" aria-label="Play">play_arrow</md-icon>
    <md-icon *ngIf="engine.playing" aria-label="Stop">stop</md-icon>
  </button>
  <md-slider [(ngModel)]="machine.bpm" min="80" max="250" thumbLabel ></md-slider> {{machine.bpm}} BPM
  <div>
    <bm-beat-indicator [index]="beatIndex()"></bm-beat-indicator>
  </div>

  <div>
    <div *ngFor="let instrument of machine?.instruments">
      <md-checkbox [(ngModel)]="instrument.enabled"></md-checkbox>
      {{instrument.title}}
      <md-select [(ngModel)]="instrument.activeProgram">
        <md-option *ngFor="let p of instrument.programs; let i = index" [value]="i">
          {{p.title}}
        </md-option>
      </md-select>
      <md-slider [(ngModel)]="instrument.volume" min="0" max="1.0" step="0.1"></md-slider>
    </div>
  </div>
</div>
